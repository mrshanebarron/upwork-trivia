import{x as G,r as y,o as P,a as U,m as A,c as n,b as o,d as e,u as d,h as z,n as v,w as l,l as f,e as S,f as x,F as k,k as C,t as _,g as a,y as V,p as q,z as Q,q as L,v as R,A as H}from"./app-DHmHaHMB.js";import{S as I,C as O}from"./CloudsAnimation-mnPX0duf.js";import{P as $}from"./PuppyAnimation-CyKP07Q5.js";import{C as w}from"./CartoonCard-BnEhxl-S.js";import{u as Y}from"./useRecaptcha-ll98tPny.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"animated-contest-page"},W={class:"max-w-7xl mx-auto flex justify-between items-center"},X={class:"flex gap-4 sm:gap-6 items-center"},Z={class:"pt-32 pb-12 relative z-10"},ee={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},te={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center"},se={class:"flex justify-center items-center"},oe={class:"h-[70vh] w-auto max-w-full"},le={class:"space-y-6"},ae={class:"flex justify-between items-start"},re={class:"text-lg font-semibold"},ne={key:1},ie={key:0,class:"text-center py-8"},ue={key:1},de={class:"mb-6"},ce={class:"text-2xl font-bold text-gray-900 mb-4"},be={class:"space-y-3 mb-6"},ve=["value"],fe={class:"ml-3 text-gray-900 text-lg"},xe={class:"text-blue-600"},me={style:{position:"absolute",left:"-5000px"},"aria-hidden":"true"},he={class:"flex justify-center"},pe=["disabled"],ge={key:2,class:"text-center py-8"},ye={key:0,class:"mt-12 space-y-6"},we=["href"],_e={class:"text-center"},ke=["innerHTML"],Ce={__name:"GoldenQuestion",props:{question:Object,sticker:Object,is_authenticated:Boolean,can_submit:Boolean,already_submitted:Boolean,ad_boxes:Array},setup(i){const T=i,c=G(),m=y(null),h=y(!1),{execute:M}=Y(),p=y(!1),B=()=>{p.value=window.scrollY>50};P(()=>{window.addEventListener("scroll",B)}),U(()=>{window.removeEventListener("scroll",B)});const g=y(null),b=y(null);c.props.flash&&(c.props.flash.success?(g.value=c.props.flash.success,b.value="success"):c.props.flash.error?(g.value=c.props.flash.error,b.value="error"):c.props.flash.info&&(g.value=c.props.flash.info,b.value="info"));const N=()=>{g.value=null,b.value=null},u=y({website:"",email:"",subscribe:!1}),j=async()=>{if(!(!m.value||h.value)){h.value=!0;try{const r=await M("contest_submit");H.post(route("contest.submit"),{question_id:T.question.id,answer:m.value,sticker_id:T.sticker?.id,latitude:null,longitude:null,device_fingerprint:null,recaptcha_token:r,website:u.value.website,email_hp:u.value.email,subscribe:u.value.subscribe},{onFinish:()=>{h.value=!1}})}catch(r){console.error("Submission error:",r),h.value=!1}}},E=A(()=>m.value!==null),D=A(()=>h.value?"Submitting...":"Submit Answer ðŸš€");return(r,t)=>(a(),n(k,null,[o(d(z),{title:"Golden Question Contest"}),e("div",K,[o(I),o(O),e("div",{class:v(["fixed top-0 left-0 right-0 z-50 py-4 px-4 sm:px-6 lg:px-8 transition-all duration-300",{"bg-white shadow-lg":p.value}])},[e("div",W,[o(d(f),{href:r.route("home"),class:"cursor-pointer"},{default:l(()=>[...t[4]||(t[4]=[e("img",{src:"/images/logo.webp",alt:"Poop Bag Trivia",class:"h-20 sm:h-24 w-auto"},null,-1)])]),_:1},8,["href"]),e("nav",X,[o(d(f),{href:r.route("about"),class:v(["font-bold text-sm sm:text-base transition-colors",p.value?"text-gray-800 hover:text-gray-600":"text-white hover:text-yellow-300"])},{default:l(()=>[...t[5]||(t[5]=[x(" About ",-1)])]),_:1},8,["href","class"]),o(d(f),{href:r.route("terms"),class:v(["font-bold text-sm sm:text-base transition-colors",p.value?"text-gray-800 hover:text-gray-600":"text-white hover:text-yellow-300"])},{default:l(()=>[...t[6]||(t[6]=[x(" Terms ",-1)])]),_:1},8,["href","class"]),o(d(f),{href:r.route("privacy"),class:v(["font-bold text-sm sm:text-base transition-colors",p.value?"text-gray-800 hover:text-gray-600":"text-white hover:text-yellow-300"])},{default:l(()=>[...t[7]||(t[7]=[x(" Privacy ",-1)])]),_:1},8,["href","class"]),r.$page.props.auth.user?(a(),n(k,{key:0},[o(d(f),{href:r.route("dashboard"),class:v(["font-bold text-sm sm:text-base transition-colors",p.value?"text-gray-800 hover:text-gray-600":"text-white hover:text-yellow-300"])},{default:l(()=>[...t[8]||(t[8]=[x(" Dashboard ",-1)])]),_:1},8,["href","class"]),o(d(f),{href:r.route("logout"),method:"post",as:"button",class:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold text-sm rounded-lg transition-colors"},{default:l(()=>[...t[9]||(t[9]=[x(" Logout ",-1)])]),_:1},8,["href"])],64)):(a(),S(d(f),{key:1,href:r.route("login"),class:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold text-sm rounded-lg transition-colors"},{default:l(()=>[...t[10]||(t[10]=[x(" Login ",-1)])]),_:1},8,["href"]))])])],2),e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[o($)])]),e("div",le,[o(w,{variant:"primary"},{default:l(()=>[...t[11]||(t[11]=[e("div",{class:"text-center"},[e("h1",{class:"text-4xl font-bold mb-2"},"Golden Question Contest"),e("p",{class:"text-xl text-gray-800"},"First correct answer wins $10!")],-1)])]),_:1}),g.value?(a(),n("div",{key:0,class:v(["relative rounded-xl border-2 p-4 shadow-lg",{"bg-green-50 border-green-500 text-green-800":b.value==="success","bg-red-50 border-red-500 text-red-800":b.value==="error","bg-blue-50 border-blue-500 text-blue-800":b.value==="info"}])},[e("div",ae,[e("p",re,_(g.value),1),e("button",{onClick:N,class:"ml-4 text-gray-500 hover:text-gray-700 font-bold text-xl"}," Ã— ")])],2)):C("",!0),i.question?(a(),n("div",ne,[i.question?i.question.has_winner?(a(),n("div",ue,[o(w,{variant:"success"},{default:l(()=>[...t[13]||(t[13]=[e("p",{class:"text-lg text-gray-800"},"ðŸŽ‰ Today's question already has a winner! Check back tomorrow for a new question.",-1)])]),_:1})])):(a(),S(w,{key:2},{default:l(()=>[e("div",de,[e("h2",ce,_(i.question.question_text),1)]),e("div",be,[(a(),n(k,null,V(["A","B","C","D"],s=>e("label",{key:s,class:v(["flex items-center p-4 bg-white/40 backdrop-blur-sm border-2 border-white/50 rounded-xl cursor-pointer transition-all duration-200",{"bg-blue-100/60 border-blue-500":m.value===s}])},[q(e("input",{type:"radio",value:s,"onUpdate:modelValue":t[0]||(t[0]=F=>m.value=F),class:"h-5 w-5 text-blue-600"},null,8,ve),[[Q,m.value]]),e("span",fe,[e("strong",xe,_(s)+".",1),x(" "+_(i.question["option_"+s.toLowerCase()]),1)])],2)),64))]),e("div",me,[q(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>u.value.website=s),name:"website",tabindex:"-1",autocomplete:"off"},null,512),[[L,u.value.website]]),q(e("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=s=>u.value.email=s),name:"email",tabindex:"-1",autocomplete:"off"},null,512),[[L,u.value.email]]),q(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=s=>u.value.subscribe=s),name:"subscribe",tabindex:"-1"},null,512),[[R,u.value.subscribe]])]),e("div",he,[e("button",{onClick:j,disabled:!E.value||h.value,class:"px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xl font-bold rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:from-blue-600 hover:to-blue-700 transform hover:scale-105"},_(D.value),9,pe)])]),_:1})):(a(),n("div",ie,[o(w,null,{default:l(()=>[...t[12]||(t[12]=[e("p",{class:"text-lg text-gray-700"},"No active question available. Check back soon!",-1)])]),_:1})]))])):C("",!0),i.question?C("",!0):(a(),n("div",ge,[o(w,null,{default:l(()=>[...t[14]||(t[14]=[e("p",{class:"text-lg text-gray-700"},"No active question available. Check back soon!",-1)])]),_:1})]))])]),i.ad_boxes&&i.ad_boxes.length>0?(a(),n("div",ye,[(a(!0),n(k,null,V(i.ad_boxes,s=>(a(),n("div",{key:s.id},[o(w,null,{default:l(()=>[e("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",class:"block"},[e("div",_e,[t[15]||(t[15]=e("div",{class:"text-sm text-gray-500 font-bold mb-2"},"ADVERTISEMENT",-1)),e("div",{innerHTML:s.html_content,class:"ad-content"},null,8,ke)])],8,we)]),_:2},1024)]))),128))])):C("",!0)])])])],64))}},Le=J(Ce,[["__scopeId","data-v-4026b996"]]);export{Le as default};
