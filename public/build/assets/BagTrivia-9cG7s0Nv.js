import{r as c,x as N,I as j,m as T,o as z,c as a,b as o,d as e,u as v,h as P,n as u,w as r,l as f,e as V,f as m,F as A,k as y,t as b,g as l,y as $,A as F}from"./app-DHmHaHMB.js";import{S as H,C as D}from"./CloudsAnimation-mnPX0duf.js";import{P as G}from"./PuppyAnimation-CyKP07Q5.js";import{C as k}from"./CartoonCard-BnEhxl-S.js";import{u as I}from"./useRecaptcha-ll98tPny.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"animated-contest-page"},O={class:"max-w-7xl mx-auto flex justify-between items-center"},Y={class:"flex gap-4 sm:gap-6 items-center"},W={class:"pt-32 pb-12 relative z-10"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},U={class:"hidden lg:block relative"},X={class:"h-[60vh] w-auto"},Z={class:"space-y-6"},ee={key:0},te={class:"text-center"},se={class:"text-lg text-gray-800 mb-4"},oe={key:1},le={key:2},ae={key:3},re=["href"],ie={class:"text-center"},ne=["innerHTML"],de={class:"text-center mb-6"},ue={class:"text-lg text-gray-700"},ce={key:0,class:"text-md text-gray-600 mt-1"},ve={key:0,class:"mb-6 p-6 bg-white/60 backdrop-blur-sm rounded-xl border-2 border-white/70"},xe={class:"text-xl font-semibold text-gray-900 text-center"},fe={class:"flex justify-between items-center"},be={class:"font-semibold"},he={key:2,class:"space-y-4"},ge=["onClick"],me={class:"flex items-start"},ye={key:3,class:"text-center p-6 bg-white/40 backdrop-blur-sm rounded-xl"},we={key:4,class:"mt-6"},pe=["disabled"],ke={key:4},_e=["href"],Ce={class:"text-center"},Be=["innerHTML"],Te={__name:"BagTrivia",props:{trivia_code:Object,question:Object,is_authenticated:Boolean,can_submit:Boolean,already_submitted:Boolean,ad_boxes:Array},setup(s){const _=c(null),w=c(!1),S=s,h=N(),E=c(null),d=c(null),x=c(!1),L=c(!1);I();const p=c(null),g=c(null);j(()=>{h.props.flash&&(h.props.flash.success?(p.value=h.props.flash.success,g.value="success"):h.props.flash.error?(p.value=h.props.flash.error,g.value="error"):h.props.flash.info&&(p.value=h.props.flash.info,g.value="info"))});const M=()=>{p.value=null,g.value=null};c({website:"",email:"",subscribe:!1}),T(()=>E.value!==null),T(()=>L.value?"Submitting...":"Submit Answer");const q=async()=>{if(!(!d.value||x.value)){x.value=!0;try{F.post(route("trivia.submit"),{trivia_code_id:S.trivia_code.id,answer:d.value},{onFinish:()=>{x.value=!1}})}catch(i){console.error("Submission error:",i),x.value=!1}}},B=T(()=>d.value!==null);return z(()=>{if(_.value){const t=()=>{const n=_.value.parentElement;if(n){const C=n.getBoundingClientRect();_.value.style.left=`${C.left}px`,_.value.style.width=`${C.width}px`}};t(),window.addEventListener("resize",t)}const i=()=>{w.value=window.scrollY>20};window.addEventListener("scroll",i)}),(i,t)=>(l(),a(A,null,[o(v(P),{title:`Bag Trivia - Code ${s.trivia_code.code}`},null,8,["title"]),e("div",Q,[o(H),o(D),e("div",{class:u(["fixed top-0 left-0 right-0 z-50 py-4 px-4 sm:px-6 lg:px-8 transition-all duration-300",{"bg-white shadow-lg":w.value}])},[e("div",O,[o(v(f),{href:i.route("home"),class:"cursor-pointer"},{default:r(()=>[...t[0]||(t[0]=[e("img",{src:"/images/logo.webp",alt:"Poop Bag Trivia",class:"h-20 sm:h-24 w-auto"},null,-1)])]),_:1},8,["href"]),e("nav",Y,[o(v(f),{href:i.route("about"),class:u([w.value?"text-gray-900 hover:text-yellow-600":"text-white hover:text-yellow-300","font-bold text-sm sm:text-base transition-colors"])},{default:r(()=>[...t[1]||(t[1]=[m(" About ",-1)])]),_:1},8,["href","class"]),o(v(f),{href:i.route("terms"),class:u([w.value?"text-gray-900 hover:text-yellow-600":"text-white hover:text-yellow-300","font-bold text-sm sm:text-base transition-colors"])},{default:r(()=>[...t[2]||(t[2]=[m(" Terms ",-1)])]),_:1},8,["href","class"]),o(v(f),{href:i.route("privacy"),class:u([w.value?"text-gray-900 hover:text-yellow-600":"text-white hover:text-yellow-300","font-bold text-sm sm:text-base transition-colors"])},{default:r(()=>[...t[3]||(t[3]=[m(" Privacy ",-1)])]),_:1},8,["href","class"]),i.$page.props.auth.user?(l(),a(A,{key:0},[o(v(f),{href:i.route("dashboard"),class:u([w.value?"text-gray-900 hover:text-yellow-600":"text-white hover:text-yellow-300","font-bold text-sm sm:text-base transition-colors"])},{default:r(()=>[...t[4]||(t[4]=[m(" Dashboard ",-1)])]),_:1},8,["href","class"]),o(v(f),{href:i.route("logout"),method:"post",as:"button",class:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold text-sm rounded-lg transition-colors"},{default:r(()=>[...t[5]||(t[5]=[m(" Logout ",-1)])]),_:1},8,["href"])],64)):(l(),V(v(f),{key:1,href:i.route("login"),class:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold text-sm rounded-lg transition-colors"},{default:r(()=>[...t[6]||(t[6]=[m(" Login ",-1)])]),_:1},8,["href"]))])])],2),e("div",W,[e("div",J,[e("div",K,[e("div",U,[e("div",{ref_key:"puppyContainer",ref:_,class:"fixed top-32 flex justify-center items-center h-[calc(100vh-8rem)]"},[e("div",X,[o(G)])],512)]),e("div",Z,[s.question&&!s.question.has_winner?(l(),a("div",ee,[o(v(f),{href:i.route("home")},{default:r(()=>[o(k,{variant:"primary",class:"cursor-pointer hover:shadow-2xl transition-shadow duration-200"},{default:r(()=>[e("div",te,[t[7]||(t[7]=e("h1",{class:"text-3xl font-bold mb-2"},"🏆 Today's Golden Question",-1)),e("p",se,"First correct answer wins $"+b(s.question.prize_amount)+"!",1),t[8]||(t[8]=e("div",{class:"inline-flex items-center gap-2 px-6 py-3 bg-yellow-500 text-gray-900 font-bold rounded-xl hover:bg-yellow-600 transition-colors"},[e("span",null,"Click to Answer & Win"),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),t[9]||(t[9]=e("p",{class:"text-sm text-gray-600 mt-3"},"Available at participating locations",-1))])]),_:1})]),_:1},8,["href"])])):s.question&&s.question.has_winner?(l(),a("div",oe,[o(k,{variant:"success"},{default:r(()=>[...t[10]||(t[10]=[e("div",{class:"text-center"},[e("p",{class:"text-lg text-gray-800 mb-2"},"Today's Golden Question already has a winner!"),e("p",{class:"text-md text-gray-600"},"Check back tomorrow for a new question.")],-1)])]),_:1})])):s.question?y("",!0):(l(),a("div",le,[o(k,null,{default:r(()=>[...t[11]||(t[11]=[e("p",{class:"text-lg text-gray-700 text-center"},"No Golden Question available today. Check back soon!",-1)])]),_:1})])),t[17]||(t[17]=e("div",{class:"py-4"},[e("div",{class:"border-t-4 border-white/50"})],-1)),s.ad_boxes&&s.ad_boxes.length>0?(l(),a("div",ae,[o(k,null,{default:r(()=>[e("a",{href:s.ad_boxes[0].url,target:"_blank",rel:"noopener noreferrer",class:"block"},[e("div",ie,[t[12]||(t[12]=e("div",{class:"text-sm text-gray-500 font-bold mb-2"},"ADVERTISEMENT",-1)),e("div",{innerHTML:s.ad_boxes[0].html_content,class:"ad-content"},null,8,ne)])],8,re)]),_:1})])):y("",!0),o(k,{variant:"secondary"},{default:r(()=>[e("div",de,[t[14]||(t[14]=e("h2",{class:"text-3xl font-bold mb-2"},"Your Bag's Trivia",-1)),e("p",ue,[t[13]||(t[13]=m("Code: ",-1)),e("strong",null,b(s.trivia_code.code),1)]),s.trivia_code.title?(l(),a("p",ce,b(s.trivia_code.title),1)):y("",!0)]),s.trivia_code.description?(l(),a("div",ve,[e("p",xe,b(s.trivia_code.description),1)])):y("",!0),p.value?(l(),a("div",{key:1,class:u(["mb-6 p-4 rounded-xl border-2",{"bg-green-100 border-green-500 text-green-900":g.value==="success","bg-red-100 border-red-500 text-red-900":g.value==="error","bg-blue-100 border-blue-500 text-blue-900":g.value==="info"}])},[e("div",fe,[e("p",be,b(p.value),1),e("button",{onClick:M,class:"text-2xl font-bold hover:opacity-70"},"×")])],2)):y("",!0),s.trivia_code.answers&&s.trivia_code.answers.length>0?(l(),a("div",he,[(l(!0),a(A,null,$(s.trivia_code.answers,(n,C)=>(l(),a("button",{key:n.id,onClick:Ae=>d.value=n.text,class:u(["w-full p-4 bg-white/60 backdrop-blur-sm rounded-xl border-2 transition-all duration-200 cursor-pointer hover:shadow-lg",{"border-yellow-500 bg-yellow-100 shadow-lg":d.value===n.text,"border-white/70 hover:border-yellow-300":d.value!==n.text}])},[e("div",me,[e("div",{class:u(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3 transition-colors",{"bg-yellow-500 text-white":d.value===n.text,"bg-blue-500 text-white":d.value!==n.text}])},b(C+1),3),e("p",{class:u(["text-lg font-medium flex-1 text-left",{"text-yellow-900":d.value===n.text,"text-gray-900":d.value!==n.text}])},b(n.text),3)])],10,ge))),128))])):(l(),a("div",ye,[...t[15]||(t[15]=[e("p",{class:"text-gray-600"},"No answers available for this trivia code.",-1)])])),s.trivia_code.answers&&s.trivia_code.answers.length>0?(l(),a("div",we,[e("button",{onClick:q,disabled:!B.value||x.value,class:u(["w-full py-4 px-6 rounded-xl font-bold text-lg transition-all duration-200",{"bg-yellow-500 hover:bg-yellow-600 text-gray-900 shadow-lg hover:shadow-xl cursor-pointer":B.value&&!x.value,"bg-gray-400 text-gray-600 cursor-not-allowed":!B.value||x.value}])},b(x.value?"Submitting...":"Submit Answer"),11,pe)])):y("",!0)]),_:1}),s.ad_boxes&&s.ad_boxes.length>1?(l(),a("div",ke,[o(k,null,{default:r(()=>[e("a",{href:s.ad_boxes[1].url,target:"_blank",rel:"noopener noreferrer",class:"block"},[e("div",Ce,[t[16]||(t[16]=e("div",{class:"text-sm text-gray-500 font-bold mb-2"},"ADVERTISEMENT",-1)),e("div",{innerHTML:s.ad_boxes[1].html_content,class:"ad-content"},null,8,Be)])],8,_e)]),_:1})])):y("",!0)])])])])])],64))}},je=R(Te,[["__scopeId","data-v-365f4f08"]]);export{je as default};
