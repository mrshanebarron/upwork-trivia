import{r as s,o as u}from"./app-DHmHaHMB.js";function d(){const r=s(!1),a="your_production_recaptcha_site_key",c=()=>new Promise((e,o)=>{if(window.grecaptcha){r.value=!0,e();return}const t=document.createElement("script");t.src=`https://www.google.com/recaptcha/api.js?render=${a}`,t.async=!0,t.defer=!0,t.onload=()=>{r.value=!0,e()},t.onerror=o,document.head.appendChild(t)}),n=async(e="contest_submit")=>{try{return r.value||await c(),await window.grecaptcha.ready(()=>{}),await window.grecaptcha.execute(a,{action:e})}catch(o){return console.error("reCAPTCHA execution failed:",o),null}};return u(()=>{c().catch(e=>{console.error("Failed to load reCAPTCHA:",e)})}),{isLoaded:r,execute:n}}export{d as u};
